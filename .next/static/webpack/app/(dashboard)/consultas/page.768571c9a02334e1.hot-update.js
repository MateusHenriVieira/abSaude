"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(dashboard)/consultas/page",{

/***/ "(app-pages-browser)/./components/consultation-form.tsx":
/*!******************************************!*\
  !*** ./components/consultation-form.tsx ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConsultationForm: () => (/* binding */ ConsultationForm)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! react-hook-form */ \"(app-pages-browser)/./node_modules/react-hook-form/dist/index.esm.mjs\");\n/* harmony import */ var _hookform_resolvers_zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hookform/resolvers/zod */ \"(app-pages-browser)/./node_modules/@hookform/resolvers/zod/dist/zod.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! zod */ \"(app-pages-browser)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_CalendarIcon_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarIcon,Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_CalendarIcon_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarIcon,Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/calendar.js\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"(app-pages-browser)/./node_modules/date-fns/format.js\");\n/* harmony import */ var date_fns_locale__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! date-fns/locale */ \"(app-pages-browser)/./node_modules/date-fns/locale/pt-BR.js\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./lib/utils.ts\");\n/* harmony import */ var _styles_calendar_module_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/styles/calendar.module.css */ \"(app-pages-browser)/./styles/calendar.module.css\");\n/* harmony import */ var _styles_calendar_module_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_styles_calendar_module_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/dialog */ \"(app-pages-browser)/./components/ui/dialog.tsx\");\n/* harmony import */ var _components_ui_form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/form */ \"(app-pages-browser)/./components/ui/form.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ui/input */ \"(app-pages-browser)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_popover__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/popover */ \"(app-pages-browser)/./components/ui/popover.tsx\");\n/* harmony import */ var _components_ui_calendar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/ui/calendar */ \"(app-pages-browser)/./components/ui/calendar.tsx\");\n/* harmony import */ var _components_ui_select__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/ui/select */ \"(app-pages-browser)/./components/ui/select.tsx\");\n/* harmony import */ var _components_ui_textarea__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/ui/textarea */ \"(app-pages-browser)/./components/ui/textarea.tsx\");\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/lib/firebase */ \"(app-pages-browser)/./lib/firebase.ts\");\n/* harmony import */ var _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/ui/use-toast */ \"(app-pages-browser)/./components/ui/use-toast.ts\");\n/* harmony import */ var _contexts_auth_context__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/contexts/auth-context */ \"(app-pages-browser)/./contexts/auth-context.tsx\");\n/* harmony import */ var _components_ui_radio_group__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/ui/radio-group */ \"(app-pages-browser)/./components/ui/radio-group.tsx\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(app-pages-browser)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _hooks_use_permissions__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @/hooks/use-permissions */ \"(app-pages-browser)/./hooks/use-permissions.ts\");\n/* harmony import */ var _lib_doctor_scheduling__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/lib/doctor-scheduling */ \"(app-pages-browser)/./lib/doctor-scheduling.ts\");\n/* __next_internal_client_entry_do_not_use__ ConsultationForm auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Helper functions\nconst isDateDisabled = (date, doctorWorkingDays)=>{\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    if (date < today) return true;\n    const weekDay = (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_21__.format)(date, \"EEEE\", {\n        locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_22__.ptBR\n    }).toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replace(\"-feira\", \"\");\n    return !doctorWorkingDays.includes(weekDay);\n};\nconst isWorkingDay = (date, doctorWorkingDays)=>{\n    const weekDay = (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_21__.format)(date, \"EEEE\", {\n        locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_22__.ptBR\n    }).toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replace(\"-feira\", \"\");\n    return doctorWorkingDays.includes(weekDay);\n};\n// Schema de validação para o formulário de consulta\nconst consultationSchema = zod__WEBPACK_IMPORTED_MODULE_23__.object({\n    patientName: zod__WEBPACK_IMPORTED_MODULE_23__.string().min(1, \"Nome do paciente é obrigatório\"),\n    doctorId: zod__WEBPACK_IMPORTED_MODULE_23__.string().min(1, \"Médico é obrigatório\"),\n    clinicId: zod__WEBPACK_IMPORTED_MODULE_23__.string().min(1, \"Posto de saúde é obrigatório\"),\n    date: zod__WEBPACK_IMPORTED_MODULE_23__.date({\n        required_error: \"Data é obrigatória\",\n        invalid_type_error: \"Data inválida\"\n    }).nullable(),\n    time: zod__WEBPACK_IMPORTED_MODULE_23__.string().min(1, \"Horário é obrigatório\"),\n    type: zod__WEBPACK_IMPORTED_MODULE_23__.string().min(1, \"Tipo é obrigatório\"),\n    description: zod__WEBPACK_IMPORTED_MODULE_23__.string().optional()\n});\n/**\n * Componente para agendamento de consultas médicas\n * @param {Object} props - Propriedades do componente\n * @param {Function} props.onSuccess - Função chamada após o agendamento bem-sucedido\n */ function ConsultationForm(param) {\n    let { onSuccess } = param;\n    _s();\n    // Estados do componente\n    const [open, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [doctors, setDoctors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [clinics, setClinics] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [availableTimeSlots, setAvailableTimeSlots] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loadingTimeSlots, setLoadingTimeSlots] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { toast } = (0,_components_ui_use_toast__WEBPACK_IMPORTED_MODULE_14__.useToast)();\n    const { user } = (0,_contexts_auth_context__WEBPACK_IMPORTED_MODULE_15__.useAuth)();\n    const { canScheduleAppointments } = (0,_hooks_use_permissions__WEBPACK_IMPORTED_MODULE_19__.usePermissions)();\n    const [selectedDoctorServices, setSelectedDoctorServices] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [doctorWorkingDays, setDoctorWorkingDays] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [doctorWorkingHours, setDoctorWorkingHours] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        start: \"08:00\",\n        end: \"18:00\"\n    });\n    // Estado para controlar o popover do calendário\n    const [calendarOpen, setCalendarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Estado para armazenar o ID do bloqueio temporário\n    const [temporaryBlockId, setTemporaryBlockId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Inicialização do formulário com React Hook Form\n    const form = (0,react_hook_form__WEBPACK_IMPORTED_MODULE_24__.useForm)({\n        resolver: (0,_hookform_resolvers_zod__WEBPACK_IMPORTED_MODULE_2__.zodResolver)(consultationSchema),\n        defaultValues: {\n            patientName: \"\",\n            doctorId: \"\",\n            clinicId: (user === null || user === void 0 ? void 0 : user.clinicId) || \"\",\n            time: \"\",\n            type: \"\",\n            description: \"\"\n        }\n    });\n    // Observar valores do formulário para atualização dinâmica\n    const selectedDate = form.watch(\"date\");\n    const selectedClinic = form.watch(\"clinicId\");\n    const selectedDoctor = form.watch(\"doctorId\");\n    const selectedTime = form.watch(\"time\");\n    // Carregar médicos e postos de saúde ao iniciar o componente\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsultationForm.useEffect\": ()=>{\n            const fetchData = {\n                \"ConsultationForm.useEffect.fetchData\": async ()=>{\n                    try {\n                        setLoading(true);\n                        const fetchedClinics = await (0,_lib_firebase__WEBPACK_IMPORTED_MODULE_13__.getClinics)();\n                        setClinics(Array.isArray(fetchedClinics) ? fetchedClinics : []);\n                        if (selectedClinic) {\n                            // Buscar médicos da subcoleção doctors\n                            const doctorsCollectionRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_17__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_13__.db, \"clinics\", selectedClinic, \"doctors\");\n                            const doctorsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_17__.getDocs)(doctorsCollectionRef);\n                            const doctorsData = doctorsSnapshot.docs.map({\n                                \"ConsultationForm.useEffect.fetchData.doctorsData\": (doc)=>{\n                                    var _data_schedule, _data_schedule1;\n                                    const data = doc.data();\n                                    return {\n                                        id: doc.id,\n                                        ...data,\n                                        fullName: \"\".concat(data.firstName, \" \").concat(data.lastName),\n                                        workingDays: ((_data_schedule = data.schedule) === null || _data_schedule === void 0 ? void 0 : _data_schedule.workingDays) || [],\n                                        workingHours: ((_data_schedule1 = data.schedule) === null || _data_schedule1 === void 0 ? void 0 : _data_schedule1.workingHours) || {\n                                            start: \"08:00\",\n                                            end: \"18:00\"\n                                        }\n                                    };\n                                }\n                            }[\"ConsultationForm.useEffect.fetchData.doctorsData\"]);\n                            setDoctors(doctorsData);\n                        }\n                    } catch (error) {\n                        console.error(\"Erro ao carregar dados:\", error);\n                        toast({\n                            title: \"Erro ao carregar dados\",\n                            description: \"Não foi possível carregar a lista de médicos e postos de saúde.\",\n                            variant: \"destructive\"\n                        });\n                        setDoctors([]);\n                        setClinics([]);\n                    } finally{\n                        setLoading(false);\n                    }\n                }\n            }[\"ConsultationForm.useEffect.fetchData\"];\n            if (open) {\n                fetchData();\n            }\n        }\n    }[\"ConsultationForm.useEffect\"], [\n        open,\n        selectedClinic,\n        toast\n    ]);\n    // Função para lidar com a mudança de médico selecionado\n    const handleDoctorChange = async (doctorId)=>{\n        if (!doctorId || !selectedClinic) return;\n        try {\n            // Limpar bloqueio temporário se existir\n            if (temporaryBlockId) {\n                await (0,_lib_doctor_scheduling__WEBPACK_IMPORTED_MODULE_20__.unblockTimeSlot)(temporaryBlockId, \"cancelled\");\n                setTemporaryBlockId(null);\n            }\n            const selectedDoctor = doctors.find((d)=>d.id === doctorId);\n            if (!selectedDoctor) {\n                throw new Error(\"Médico não encontrado\");\n            }\n            // Atualizar formulário com dados do médico\n            form.setValue(\"doctorId\", doctorId);\n            form.setValue(\"type\", \"\");\n            form.setValue(\"date\", null);\n            form.setValue(\"time\", \"\");\n            // Buscar horários de trabalho do médico diretamente do Firestore\n            const doctorSchedule = await (0,_lib_doctor_scheduling__WEBPACK_IMPORTED_MODULE_20__.fetchDoctorWorkingHours)(selectedClinic, doctorId);\n            // Atualizar estados com os dados do schedule do médico\n            setSelectedDoctorServices(selectedDoctor.services || []);\n            setDoctorWorkingDays(doctorSchedule.workingDays);\n            setDoctorWorkingHours(doctorSchedule.workingHours);\n        } catch (error) {\n            console.error(\"Erro ao buscar informações do médico:\", error);\n            toast({\n                title: \"Erro\",\n                description: \"Não foi possível carregar as informações do médico.\",\n                variant: \"destructive\"\n            });\n            // Resetar estados\n            setSelectedDoctorServices([]);\n            setDoctorWorkingDays([]);\n            setDoctorWorkingHours({\n                start: \"08:00\",\n                end: \"18:00\"\n            });\n        }\n    };\n    // Move fetchAvailableTimeSlots outside useEffect but inside component\n    const fetchAvailableTimeSlots = async ()=>{\n        if (!selectedDate || !selectedClinic || !selectedDoctor) return;\n        try {\n            setLoadingTimeSlots(true);\n            setAvailableTimeSlots([]);\n            console.log('Fetching slots with params:', {\n                clinicId: selectedClinic,\n                doctorId: selectedDoctor,\n                date: selectedDate.toISOString()\n            });\n            const response = await fetch(\"/api/appointments?clinicId=\".concat(selectedClinic, \"&doctorId=\").concat(selectedDoctor, \"&date=\").concat(selectedDate.toISOString()));\n            const data = await response.json();\n            if (!response.ok) {\n                console.error('API Error:', data);\n                throw new Error(data.error || 'Failed to fetch available slots');\n            }\n            console.log('API Response:', data);\n            if (!Array.isArray(data.availableSlots)) {\n                console.error('Invalid response format:', data);\n                throw new Error('Invalid server response format');\n            }\n            setAvailableTimeSlots(data.availableSlots);\n        } catch (error) {\n            console.error('Error fetching slots:', error);\n            toast({\n                title: \"Erro ao carregar horários\",\n                description: error instanceof Error ? error.message : \"Erro ao carregar horários disponíveis\",\n                variant: \"destructive\"\n            });\n            setAvailableTimeSlots([]);\n        } finally{\n            setLoadingTimeSlots(false);\n        }\n    };\n    // Update the useEffect to use the function\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsultationForm.useEffect\": ()=>{\n            fetchAvailableTimeSlots();\n        }\n    }[\"ConsultationForm.useEffect\"], [\n        selectedDate,\n        selectedClinic,\n        selectedDoctor,\n        doctorWorkingHours\n    ]);\n    // Bloquear horário temporariamente quando o usuário selecionar um horário\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsultationForm.useEffect\": ()=>{\n            const blockSelectedTimeSlot = {\n                \"ConsultationForm.useEffect.blockSelectedTimeSlot\": async ()=>{\n                    // Verificar se todos os campos necessários estão preenchidos\n                    if (!selectedDate || !selectedClinic || !selectedDoctor || !selectedTime) return;\n                    try {\n                        // Limpar bloqueio anterior se existir\n                        if (temporaryBlockId) {\n                            await (0,_lib_doctor_scheduling__WEBPACK_IMPORTED_MODULE_20__.unblockTimeSlot)(temporaryBlockId, \"cancelled\");\n                        }\n                        // Bloquear o novo horário\n                        const response = await fetch(\"/api/appointments\", {\n                            method: \"POST\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify({\n                                clinicId: selectedClinic,\n                                doctorId: selectedDoctor,\n                                date: selectedDate.toISOString(),\n                                time: selectedTime,\n                                action: \"block\"\n                            })\n                        });\n                        if (!response.ok) {\n                            throw new Error(\"Failed to block time slot\");\n                        }\n                        const data = await response.json();\n                        setTemporaryBlockId(data.blockId);\n                        // Configurar um temporizador para limpar o bloqueio após 5 minutos se o formulário não for enviado\n                        const timeoutId = setTimeout({\n                            \"ConsultationForm.useEffect.blockSelectedTimeSlot.timeoutId\": async ()=>{\n                                if (temporaryBlockId) {\n                                    try {\n                                        await (0,_lib_doctor_scheduling__WEBPACK_IMPORTED_MODULE_20__.unblockTimeSlot)(temporaryBlockId, \"expired\");\n                                        setTemporaryBlockId(null);\n                                        // Notificar o usuário se o formulário ainda estiver aberto\n                                        if (open) {\n                                            toast({\n                                                title: \"Reserva de horário expirada\",\n                                                description: \"A reserva temporária do horário expirou. Por favor, selecione o horário novamente.\",\n                                                variant: \"destructive\"\n                                            });\n                                            // Limpar o horário selecionado\n                                            form.setValue(\"time\", \"\");\n                                            // Recarregar os horários disponíveis\n                                            await fetchAvailableTimeSlots();\n                                        }\n                                    } catch (error) {\n                                        console.error(\"Erro ao expirar bloqueio:\", error);\n                                    }\n                                }\n                            }\n                        }[\"ConsultationForm.useEffect.blockSelectedTimeSlot.timeoutId\"], 5 * 60 * 1000) // 5 minutos\n                        ;\n                        // Limpar o temporizador quando o componente for desmontado\n                        return ({\n                            \"ConsultationForm.useEffect.blockSelectedTimeSlot\": ()=>clearTimeout(timeoutId)\n                        })[\"ConsultationForm.useEffect.blockSelectedTimeSlot\"];\n                    } catch (error) {\n                        console.error(\"Erro ao bloquear horário:\", error);\n                    }\n                }\n            }[\"ConsultationForm.useEffect.blockSelectedTimeSlot\"];\n            if (selectedTime) {\n                blockSelectedTimeSlot();\n            }\n        }\n    }[\"ConsultationForm.useEffect\"], [\n        selectedTime,\n        selectedDate,\n        selectedClinic,\n        selectedDoctor,\n        temporaryBlockId,\n        open,\n        toast,\n        form\n    ]);\n    // Função para enviar o formulário\n    async function onSubmit(data) {\n        try {\n            if (!data.date) {\n                throw new Error(\"Data é obrigatória\");\n            }\n            // Verificar se ainda temos um bloqueio válido\n            if (!temporaryBlockId) {\n                toast({\n                    title: \"Reserva de horário expirada\",\n                    description: \"A reserva temporária do horário expirou. Por favor, selecione o horário novamente.\",\n                    variant: \"destructive\"\n                });\n                return;\n            }\n            // Agendar a consulta usando o bloqueio temporário\n            const result = await (0,_lib_doctor_scheduling__WEBPACK_IMPORTED_MODULE_20__.scheduleAppointment)({\n                ...data,\n                date: data.date,\n                time: data.time,\n                status: \"Agendado\"\n            }, temporaryBlockId);\n            toast({\n                title: \"Consulta agendada\",\n                description: \"A consulta foi agendada com sucesso.\"\n            });\n            // Limpar o ID do bloqueio temporário\n            setTemporaryBlockId(null);\n            form.reset();\n            setOpen(false);\n            if (onSuccess) onSuccess();\n        } catch (error) {\n            console.error(\"Erro ao agendar consulta:\", error);\n            // Tentar liberar o bloqueio em caso de erro\n            if (temporaryBlockId) {\n                try {\n                    await (0,_lib_doctor_scheduling__WEBPACK_IMPORTED_MODULE_20__.unblockTimeSlot)(temporaryBlockId, \"cancelled\");\n                    setTemporaryBlockId(null);\n                } catch (unblockError) {\n                    console.error(\"Erro ao desbloquear horário:\", unblockError);\n                }\n            }\n            toast({\n                title: \"Erro ao agendar consulta\",\n                description: \"Ocorreu um erro ao agendar a consulta. Tente novamente.\",\n                variant: \"destructive\"\n            });\n        }\n    }\n    // Limpar bloqueio temporário ao fechar o diálogo\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsultationForm.useEffect\": ()=>{\n            return ({\n                \"ConsultationForm.useEffect\": ()=>{\n                    // Cleanup function that runs when component unmounts\n                    if (temporaryBlockId) {\n                        (0,_lib_doctor_scheduling__WEBPACK_IMPORTED_MODULE_20__.unblockTimeSlot)(temporaryBlockId, \"cancelled\").catch({\n                            \"ConsultationForm.useEffect\": (error)=>console.error(\"Erro ao desbloquear horário:\", error)\n                        }[\"ConsultationForm.useEffect\"]);\n                    }\n                }\n            })[\"ConsultationForm.useEffect\"];\n        }\n    }[\"ConsultationForm.useEffect\"], [\n        temporaryBlockId\n    ]);\n    // Verificar permissões - permitir agendamento para admin, receptionist, doctor e nurse\n    if (!canScheduleAppointments() && ![\n        \"doctor\",\n        \"nurse\"\n    ].includes((user === null || user === void 0 ? void 0 : user.type) || \"\")) {\n        return null;\n    }\n    // Mapear dias da semana para exibição em português\n    const getDayName = (day)=>{\n        const days = [\n            \"Domingo\",\n            \"Segunda\",\n            \"Terça\",\n            \"Quarta\",\n            \"Quinta\",\n            \"Sexta\",\n            \"Sábado\"\n        ];\n        return days[day];\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_6__.Dialog, {\n        open: open,\n        onOpenChange: (newOpen)=>{\n            // Se estiver fechando o diálogo e tiver um bloqueio temporário, cancelá-lo\n            if (!newOpen && temporaryBlockId) {\n                (0,_lib_doctor_scheduling__WEBPACK_IMPORTED_MODULE_20__.unblockTimeSlot)(temporaryBlockId, \"cancelled\").catch((error)=>console.error(\"Erro ao desbloquear horário:\", error));\n                setTemporaryBlockId(null);\n            }\n            setOpen(newOpen);\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_6__.DialogTrigger, {\n                asChild: true,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                    children: \"Agendar Consulta\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                    lineNumber: 440,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                lineNumber: 439,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_6__.DialogContent, {\n                className: \"sm:max-w-[500px] max-h-[90vh] overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_6__.DialogHeader, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_6__.DialogTitle, {\n                                children: \"Agendar Consulta\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                lineNumber: 444,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_6__.DialogDescription, {\n                                children: (user === null || user === void 0 ? void 0 : user.type) === \"admin\" ? \"Como administrador, você pode agendar consultas para qualquer posto.\" : \"Você só pode agendar consultas para seu posto atual.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                lineNumber: 445,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                        lineNumber: 443,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_18__.ScrollArea, {\n                        className: \"max-h-[70vh]\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.Form, {\n                            ...form,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                                onSubmit: form.handleSubmit(onSubmit),\n                                className: \"space-y-4 px-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormField, {\n                                        control: form.control,\n                                        name: \"patientName\",\n                                        render: (param)=>{\n                                            let { field } = param;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormItem, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormLabel, {\n                                                        children: \"Nome do Paciente\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 460,\n                                                        columnNumber: 21\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormControl, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_8__.Input, {\n                                                            placeholder: \"Digite o nome do paciente\",\n                                                            ...field\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                            lineNumber: 462,\n                                                            columnNumber: 23\n                                                        }, void 0)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 461,\n                                                        columnNumber: 21\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormMessage, {}, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 464,\n                                                        columnNumber: 21\n                                                    }, void 0)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                lineNumber: 459,\n                                                columnNumber: 19\n                                            }, void 0);\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                        lineNumber: 455,\n                                        columnNumber: 15\n                                    }, this),\n                                    (user === null || user === void 0 ? void 0 : user.type) === \"admin\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormField, {\n                                        control: form.control,\n                                        name: \"clinicId\",\n                                        render: (param)=>{\n                                            let { field } = param;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormItem, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormLabel, {\n                                                        children: \"Posto de Sa\\xfade\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 476,\n                                                        columnNumber: 23\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.Select, {\n                                                        onValueChange: (value)=>{\n                                                            field.onChange(value);\n                                                            // Limpar médico, data e hora ao mudar de clínica\n                                                            form.setValue(\"doctorId\", \"\");\n                                                            form.setValue(\"date\", null);\n                                                            form.setValue(\"time\", \"\");\n                                                            // Limpar bloqueio temporário se existir\n                                                            if (temporaryBlockId) {\n                                                                (0,_lib_doctor_scheduling__WEBPACK_IMPORTED_MODULE_20__.unblockTimeSlot)(temporaryBlockId, \"cancelled\").catch((error)=>console.error(\"Erro ao desbloquear horário:\", error));\n                                                                setTemporaryBlockId(null);\n                                                            }\n                                                        },\n                                                        value: field.value,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormControl, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.SelectTrigger, {\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.SelectValue, {\n                                                                        placeholder: \"Selecione o posto de sa\\xfade\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                        lineNumber: 497,\n                                                                        columnNumber: 29\n                                                                    }, void 0)\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                    lineNumber: 496,\n                                                                    columnNumber: 27\n                                                                }, void 0)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                lineNumber: 495,\n                                                                columnNumber: 25\n                                                            }, void 0),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.SelectContent, {\n                                                                children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-center p-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarIcon_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                                            className: \"h-4 w-4 animate-spin mr-2\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                            lineNumber: 503,\n                                                                            columnNumber: 31\n                                                                        }, void 0),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-sm\",\n                                                                            children: \"Carregando...\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                            lineNumber: 504,\n                                                                            columnNumber: 31\n                                                                        }, void 0)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                    lineNumber: 502,\n                                                                    columnNumber: 29\n                                                                }, void 0) : clinics.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"p-2 text-center text-sm text-muted-foreground\",\n                                                                    children: \"Nenhum posto de sa\\xfade encontrado\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                    lineNumber: 507,\n                                                                    columnNumber: 29\n                                                                }, void 0) : clinics.map((clinic)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.SelectItem, {\n                                                                        value: clinic.id,\n                                                                        children: clinic.name\n                                                                    }, clinic.id, false, {\n                                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                        lineNumber: 512,\n                                                                        columnNumber: 31\n                                                                    }, void 0))\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                lineNumber: 500,\n                                                                columnNumber: 25\n                                                            }, void 0)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 477,\n                                                        columnNumber: 23\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormMessage, {}, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 519,\n                                                        columnNumber: 23\n                                                    }, void 0)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                lineNumber: 475,\n                                                columnNumber: 21\n                                            }, void 0);\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                        lineNumber: 471,\n                                        columnNumber: 17\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"hidden\",\n                                        ...form.register(\"clinicId\"),\n                                        value: user === null || user === void 0 ? void 0 : user.clinicId\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                        lineNumber: 524,\n                                        columnNumber: 17\n                                    }, this),\n                                    (user === null || user === void 0 ? void 0 : user.type) === \"doctor\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormField, {\n                                        control: form.control,\n                                        name: \"doctorId\",\n                                        render: (param)=>{\n                                            let { field } = param;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormItem, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormLabel, {\n                                                        children: \"M\\xe9dico\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 534,\n                                                        columnNumber: 23\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormControl, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_8__.Input, {\n                                                            value: \"Dr(a). \".concat(user.name),\n                                                            disabled: true,\n                                                            className: \"bg-muted\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                            lineNumber: 536,\n                                                            columnNumber: 25\n                                                        }, void 0)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 535,\n                                                        columnNumber: 23\n                                                    }, void 0)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                lineNumber: 533,\n                                                columnNumber: 21\n                                            }, void 0);\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                        lineNumber: 529,\n                                        columnNumber: 17\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormField, {\n                                        control: form.control,\n                                        name: \"doctorId\",\n                                        render: (param)=>{\n                                            let { field } = param;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormItem, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormLabel, {\n                                                        children: \"M\\xe9dico\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 547,\n                                                        columnNumber: 23\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.Select, {\n                                                        onValueChange: handleDoctorChange,\n                                                        value: field.value,\n                                                        disabled: !selectedClinic,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormControl, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.SelectTrigger, {\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.SelectValue, {\n                                                                        placeholder: selectedClinic ? \"Selecione o médico\" : \"Selecione um posto primeiro\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                        lineNumber: 551,\n                                                                        columnNumber: 29\n                                                                    }, void 0)\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                    lineNumber: 550,\n                                                                    columnNumber: 27\n                                                                }, void 0)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                lineNumber: 549,\n                                                                columnNumber: 25\n                                                            }, void 0),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.SelectContent, {\n                                                                children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-center p-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarIcon_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                                            className: \"h-4 w-4 animate-spin mr-2\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                            lineNumber: 559,\n                                                                            columnNumber: 31\n                                                                        }, void 0),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-sm\",\n                                                                            children: \"Carregando...\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                            lineNumber: 560,\n                                                                            columnNumber: 31\n                                                                        }, void 0)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                    lineNumber: 558,\n                                                                    columnNumber: 29\n                                                                }, void 0) : doctors.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"p-2 text-center text-sm text-muted-foreground\",\n                                                                    children: \"Nenhum m\\xe9dico encontrado\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                    lineNumber: 563,\n                                                                    columnNumber: 29\n                                                                }, void 0) : doctors.map((doctor)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.SelectItem, {\n                                                                        value: doctor.id,\n                                                                        children: [\n                                                                            \"Dr(a). \",\n                                                                            doctor.fullName,\n                                                                            \" - \",\n                                                                            doctor.function || \"Médico\"\n                                                                        ]\n                                                                    }, doctor.id, true, {\n                                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                        lineNumber: 568,\n                                                                        columnNumber: 31\n                                                                    }, void 0))\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                lineNumber: 556,\n                                                                columnNumber: 25\n                                                            }, void 0)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 548,\n                                                        columnNumber: 23\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormMessage, {}, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 575,\n                                                        columnNumber: 23\n                                                    }, void 0)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                lineNumber: 546,\n                                                columnNumber: 21\n                                            }, void 0);\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                        lineNumber: 542,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormField, {\n                                        control: form.control,\n                                        name: \"date\",\n                                        render: (param)=>{\n                                            let { field } = param;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormItem, {\n                                                className: \"flex flex-col\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormLabel, {\n                                                        children: \"Data\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 587,\n                                                        columnNumber: 21\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_9__.Popover, {\n                                                        open: calendarOpen,\n                                                        onOpenChange: setCalendarOpen,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_9__.PopoverTrigger, {\n                                                                asChild: true,\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormControl, {\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                                                        variant: \"outline\",\n                                                                        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"w-full pl-3 text-left font-normal\", !field.value && \"text-muted-foreground\"),\n                                                                        disabled: !selectedDoctor,\n                                                                        onClick: ()=>setCalendarOpen(true),\n                                                                        type: \"button\",\n                                                                        children: [\n                                                                            field.value ? (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_21__.format)(field.value, \"PPP\", {\n                                                                                locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_22__.ptBR\n                                                                            }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: selectedDoctor ? \"Selecione uma data\" : \"Selecione um médico primeiro\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                                lineNumber: 601,\n                                                                                columnNumber: 31\n                                                                            }, void 0),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarIcon_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                                                                className: \"ml-auto h-4 w-4 opacity-50\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                                lineNumber: 603,\n                                                                                columnNumber: 29\n                                                                            }, void 0)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                        lineNumber: 591,\n                                                                        columnNumber: 27\n                                                                    }, void 0)\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                    lineNumber: 590,\n                                                                    columnNumber: 25\n                                                                }, void 0)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                lineNumber: 589,\n                                                                columnNumber: 23\n                                                            }, void 0),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_9__.PopoverContent, {\n                                                                className: \"w-auto p-0\",\n                                                                align: \"start\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_calendar__WEBPACK_IMPORTED_MODULE_10__.Calendar, {\n                                                                    mode: \"single\",\n                                                                    required: false,\n                                                                    selected: field.value || undefined,\n                                                                    onSelect: (selected)=>{\n                                                                        field.onChange(selected);\n                                                                        // Limpar horário e bloqueio temporário ao mudar a data\n                                                                        form.setValue(\"time\", \"\");\n                                                                        if (temporaryBlockId) {\n                                                                            (0,_lib_doctor_scheduling__WEBPACK_IMPORTED_MODULE_20__.unblockTimeSlot)(temporaryBlockId, \"cancelled\").catch((error)=>console.error(\"Erro ao desbloquear horário:\", error));\n                                                                            setTemporaryBlockId(null);\n                                                                        }\n                                                                        setCalendarOpen(false);\n                                                                    },\n                                                                    disabled: (date)=>isDateDisabled(date, doctorWorkingDays),\n                                                                    modifiers: {\n                                                                        workingDay: (date)=>isWorkingDay(date, doctorWorkingDays)\n                                                                    },\n                                                                    modifiersClassNames: {\n                                                                        workingDay: (_styles_calendar_module_css__WEBPACK_IMPORTED_MODULE_4___default().workingDay),\n                                                                        today: (_styles_calendar_module_css__WEBPACK_IMPORTED_MODULE_4___default().today),\n                                                                        selected: (_styles_calendar_module_css__WEBPACK_IMPORTED_MODULE_4___default().selected),\n                                                                        disabled: (_styles_calendar_module_css__WEBPACK_IMPORTED_MODULE_4___default().disabled)\n                                                                    },\n                                                                    className: (_styles_calendar_module_css__WEBPACK_IMPORTED_MODULE_4___default().calendar),\n                                                                    classNames: {\n                                                                        day: (_styles_calendar_module_css__WEBPACK_IMPORTED_MODULE_4___default().calendarTile),\n                                                                        nav_button_previous: (_styles_calendar_module_css__WEBPACK_IMPORTED_MODULE_4___default().navigation),\n                                                                        nav_button_next: (_styles_calendar_module_css__WEBPACK_IMPORTED_MODULE_4___default().navigation),\n                                                                        caption: (_styles_calendar_module_css__WEBPACK_IMPORTED_MODULE_4___default().monthLabel),\n                                                                        head_cell: (_styles_calendar_module_css__WEBPACK_IMPORTED_MODULE_4___default().weekDay)\n                                                                    },\n                                                                    initialFocus: true\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                    lineNumber: 608,\n                                                                    columnNumber: 25\n                                                                }, void 0)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                lineNumber: 607,\n                                                                columnNumber: 23\n                                                            }, void 0)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 588,\n                                                        columnNumber: 21\n                                                    }, void 0),\n                                                    selectedDoctor && doctorWorkingDays.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-muted-foreground mt-1\",\n                                                        children: [\n                                                            \"Dias dispon\\xedveis:\",\n                                                            \" \",\n                                                            doctorWorkingDays.map((day)=>{\n                                                                const dayIndex = [\n                                                                    \"sunday\",\n                                                                    \"monday\",\n                                                                    \"tuesday\",\n                                                                    \"wednesday\",\n                                                                    \"thursday\",\n                                                                    \"friday\",\n                                                                    \"saturday\"\n                                                                ].indexOf(day);\n                                                                return getDayName(dayIndex);\n                                                            }).join(\", \")\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 647,\n                                                        columnNumber: 23\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormMessage, {}, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 665,\n                                                        columnNumber: 21\n                                                    }, void 0)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                lineNumber: 586,\n                                                columnNumber: 19\n                                            }, void 0);\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                        lineNumber: 582,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormField, {\n                                        control: form.control,\n                                        name: \"time\",\n                                        render: (param)=>{\n                                            let { field } = param;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormItem, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormLabel, {\n                                                        children: \"Hor\\xe1rio\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 676,\n                                                        columnNumber: 21\n                                                    }, void 0),\n                                                    loadingTimeSlots ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-center p-2 border rounded-md\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarIcon_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                                className: \"h-4 w-4 animate-spin mr-2\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                lineNumber: 679,\n                                                                columnNumber: 25\n                                                            }, void 0),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-sm\",\n                                                                children: \"Carregando hor\\xe1rios dispon\\xedveis...\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                lineNumber: 680,\n                                                                columnNumber: 25\n                                                            }, void 0)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 678,\n                                                        columnNumber: 23\n                                                    }, void 0) : !selectedDate ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm text-muted-foreground p-2 border rounded-md\",\n                                                        children: \"Selecione uma data para ver os hor\\xe1rios dispon\\xedveis.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 683,\n                                                        columnNumber: 23\n                                                    }, void 0) : availableTimeSlots.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_radio_group__WEBPACK_IMPORTED_MODULE_16__.RadioGroup, {\n                                                        onValueChange: (value)=>{\n                                                            // Limpar bloqueio temporário anterior se existir\n                                                            if (temporaryBlockId && field.value !== value) {\n                                                                (0,_lib_doctor_scheduling__WEBPACK_IMPORTED_MODULE_20__.unblockTimeSlot)(temporaryBlockId, \"cancelled\").catch((error)=>console.error(\"Erro ao desbloquear horário:\", error));\n                                                                setTemporaryBlockId(null);\n                                                            }\n                                                            field.onChange(value);\n                                                        },\n                                                        value: field.value,\n                                                        className: \"grid grid-cols-3 gap-2\",\n                                                        children: availableTimeSlots.map((slot)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormItem, {\n                                                                className: \"flex items-center space-x-1 space-y-0\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormControl, {\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_radio_group__WEBPACK_IMPORTED_MODULE_16__.RadioGroupItem, {\n                                                                            value: slot,\n                                                                            id: \"time-\".concat(slot)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                            lineNumber: 705,\n                                                                            columnNumber: 31\n                                                                        }, void 0)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                        lineNumber: 704,\n                                                                        columnNumber: 29\n                                                                    }, void 0),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormLabel, {\n                                                                        htmlFor: \"time-\".concat(slot),\n                                                                        className: \"text-sm font-normal cursor-pointer\",\n                                                                        children: slot\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                        lineNumber: 707,\n                                                                        columnNumber: 29\n                                                                    }, void 0)\n                                                                ]\n                                                            }, slot, true, {\n                                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                                lineNumber: 703,\n                                                                columnNumber: 27\n                                                            }, void 0))\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 687,\n                                                        columnNumber: 23\n                                                    }, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm text-muted-foreground p-2 border rounded-md\",\n                                                        children: \"N\\xe3o h\\xe1 hor\\xe1rios dispon\\xedveis para esta data. Por favor, selecione outra data.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 714,\n                                                        columnNumber: 23\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormMessage, {}, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 718,\n                                                        columnNumber: 21\n                                                    }, void 0)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                lineNumber: 675,\n                                                columnNumber: 19\n                                            }, void 0);\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                        lineNumber: 671,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormField, {\n                                        control: form.control,\n                                        name: \"type\",\n                                        render: (param)=>{\n                                            let { field } = param;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormItem, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormLabel, {\n                                                        children: \"Tipo de Consulta\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 729,\n                                                        columnNumber: 21\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormControl, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_8__.Input, {\n                                                            placeholder: \"Digite o tipo de consulta\",\n                                                            ...field,\n                                                            disabled: !selectedDoctor\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                            lineNumber: 731,\n                                                            columnNumber: 23\n                                                        }, void 0)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 730,\n                                                        columnNumber: 21\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormMessage, {}, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 737,\n                                                        columnNumber: 21\n                                                    }, void 0)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                lineNumber: 728,\n                                                columnNumber: 19\n                                            }, void 0);\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                        lineNumber: 724,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormField, {\n                                        control: form.control,\n                                        name: \"description\",\n                                        render: (param)=>{\n                                            let { field } = param;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormItem, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormLabel, {\n                                                        children: \"Descri\\xe7\\xe3o\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 748,\n                                                        columnNumber: 21\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormControl, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_12__.Textarea, {\n                                                            placeholder: \"Digite uma descri\\xe7\\xe3o para a consulta (opcional)\",\n                                                            ...field\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                            lineNumber: 750,\n                                                            columnNumber: 23\n                                                        }, void 0)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 749,\n                                                        columnNumber: 21\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_form__WEBPACK_IMPORTED_MODULE_7__.FormMessage, {}, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                        lineNumber: 752,\n                                                        columnNumber: 21\n                                                    }, void 0)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                lineNumber: 747,\n                                                columnNumber: 19\n                                            }, void 0);\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                        lineNumber: 743,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                        type: \"submit\",\n                                        className: \"w-full\",\n                                        disabled: form.formState.isSubmitting || !form.formState.isValid || !temporaryBlockId,\n                                        children: form.formState.isSubmitting ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarIcon_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                    className: \"mr-2 h-4 w-4 animate-spin\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                                    lineNumber: 765,\n                                                    columnNumber: 21\n                                                }, this),\n                                                \"Agendando...\"\n                                            ]\n                                        }, void 0, true) : \"Agendar\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                        lineNumber: 758,\n                                        columnNumber: 15\n                                    }, this),\n                                    temporaryBlockId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-muted-foreground text-center\",\n                                        children: \"Hor\\xe1rio reservado temporariamente por 5 minutos. Complete o agendamento antes que expire.\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                        lineNumber: 775,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                                lineNumber: 453,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                            lineNumber: 452,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                        lineNumber: 451,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n                lineNumber: 442,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\zero\\\\Downloads\\\\healthcare-dashboard\\\\components\\\\consultation-form.tsx\",\n        lineNumber: 426,\n        columnNumber: 5\n    }, this);\n}\n_s(ConsultationForm, \"xOoHF+6disvM9XzZanp0NBFs9uo=\", false, function() {\n    return [\n        _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_14__.useToast,\n        _contexts_auth_context__WEBPACK_IMPORTED_MODULE_15__.useAuth,\n        _hooks_use_permissions__WEBPACK_IMPORTED_MODULE_19__.usePermissions,\n        react_hook_form__WEBPACK_IMPORTED_MODULE_24__.useForm\n    ];\n});\n_c = ConsultationForm;\nvar _c;\n$RefreshReg$(_c, \"ConsultationForm\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvY29uc3VsdGF0aW9uLWZvcm0udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTJDO0FBQ0Y7QUFDWTtBQUM3QjtBQUM0QjtBQUNuQjtBQUNLO0FBQ047QUFDaUI7QUFFRjtBQVFoQjtBQUNzRTtBQUN4RDtBQUNvQztBQUM5QjtBQUNtRDtBQUNuRDtBQUNSO0FBQ1M7QUFDSDtBQUN1QjtBQUNoQjtBQUNyQjtBQUNxQjtBQUNBO0FBQytDO0FBRXZHLG1CQUFtQjtBQUNuQixNQUFNZ0QsaUJBQWlCLENBQUNDLE1BQVlDO0lBQ2xDLE1BQU1DLFFBQVEsSUFBSUM7SUFDbEJELE1BQU1FLFFBQVEsQ0FBQyxHQUFHLEdBQUcsR0FBRztJQUV4QixJQUFJSixPQUFPRSxPQUFPLE9BQU87SUFFekIsTUFBTUcsVUFBVS9DLCtFQUFNQSxDQUFDMEMsTUFBTSxRQUFRO1FBQUVNLFFBQVEvQyxrREFBSUE7SUFBQyxHQUNqRGdELFdBQVcsR0FDWEMsU0FBUyxDQUFDLE9BQ1ZDLE9BQU8sQ0FBQyxvQkFBb0IsSUFDNUJBLE9BQU8sQ0FBQyxVQUFVO0lBRXJCLE9BQU8sQ0FBQ1Isa0JBQWtCUyxRQUFRLENBQUNMO0FBQ3JDO0FBRUEsTUFBTU0sZUFBZSxDQUFDWCxNQUFZQztJQUNoQyxNQUFNSSxVQUFVL0MsK0VBQU1BLENBQUMwQyxNQUFNLFFBQVE7UUFBRU0sUUFBUS9DLGtEQUFJQTtJQUFDLEdBQ2pEZ0QsV0FBVyxHQUNYQyxTQUFTLENBQUMsT0FDVkMsT0FBTyxDQUFDLG9CQUFvQixJQUM1QkEsT0FBTyxDQUFDLFVBQVU7SUFFckIsT0FBT1Isa0JBQWtCUyxRQUFRLENBQUNMO0FBQ3BDO0FBRUEsb0RBQW9EO0FBQ3BELE1BQU1PLHFCQUFxQnpELHdDQUFRLENBQUM7SUFDbEMyRCxhQUFhM0Qsd0NBQVEsR0FBRzZELEdBQUcsQ0FBQyxHQUFHO0lBQy9CQyxVQUFVOUQsd0NB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QUFFO2lFQUNoQiw4REFBQzVKLHlEQUFRQTs7a0VBQ1AsOERBQUNDLDBEQUFTQTtrRUFBQzs7Ozs7O2tFQUNYLDhEQUFDSCw0REFBV0E7a0VBQ1YsNEVBQUNlLDhEQUFRQTs0REFBQ2dKLGFBQVk7NERBQW1ELEdBQUdELEtBQUs7Ozs7Ozs7Ozs7O2tFQUVuRiw4REFBQzFKLDREQUFXQTs7Ozs7Ozs7Ozs7Ozs7Ozs7a0RBTWxCLDhEQUFDWix5REFBTUE7d0NBQ0w2RCxNQUFLO3dDQUNMb0csV0FBVTt3Q0FDVmdCLFVBQVVyRixLQUFLa0gsU0FBUyxDQUFDQyxZQUFZLElBQUksQ0FBQ25ILEtBQUtrSCxTQUFTLENBQUNFLE9BQU8sSUFBSSxDQUFDdEg7a0RBRXBFRSxLQUFLa0gsU0FBUyxDQUFDQyxZQUFZLGlCQUMxQjs7OERBQ0UsOERBQUNwTixpR0FBT0E7b0RBQUNzSyxXQUFVOzs7Ozs7Z0RBQThCOzsyREFJbkQ7Ozs7OztvQ0FLSHZFLGtDQUNDLDhEQUFDOEc7d0NBQUV2QyxXQUFVO2tEQUE0Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVV6RTtHQTVyQmdCakc7O1FBUUl2QywrREFBUUE7UUFDVEMsNERBQU9BO1FBQ1lPLG1FQUFjQTtRQWFyQzFDLHFEQUFPQTs7O0tBdkJOeUUiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcemVyb1xcRG93bmxvYWRzXFxoZWFsdGhjYXJlLWRhc2hib2FyZFxcY29tcG9uZW50c1xcY29uc3VsdGF0aW9uLWZvcm0udHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgdXNlRm9ybSB9IGZyb20gXCJyZWFjdC1ob29rLWZvcm1cIlxuaW1wb3J0IHsgem9kUmVzb2x2ZXIgfSBmcm9tIFwiQGhvb2tmb3JtL3Jlc29sdmVycy96b2RcIlxuaW1wb3J0ICogYXMgeiBmcm9tIFwiem9kXCJcbmltcG9ydCB7IENhbGVuZGFySWNvbiwgTG9hZGVyMiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIlxuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSBcImRhdGUtZm5zXCJcbmltcG9ydCB7IHB0QlIgfSBmcm9tIFwiZGF0ZS1mbnMvbG9jYWxlXCJcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcbmltcG9ydCBzdHlsZXMgZnJvbSBcIkAvc3R5bGVzL2NhbGVuZGFyLm1vZHVsZS5jc3NcIlxuXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiXG5pbXBvcnQge1xuICBEaWFsb2csXG4gIERpYWxvZ0NvbnRlbnQsXG4gIERpYWxvZ0Rlc2NyaXB0aW9uLFxuICBEaWFsb2dIZWFkZXIsXG4gIERpYWxvZ1RpdGxlLFxuICBEaWFsb2dUcmlnZ2VyLFxufSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2RpYWxvZ1wiXG5pbXBvcnQgeyBGb3JtLCBGb3JtQ29udHJvbCwgRm9ybUZpZWxkLCBGb3JtSXRlbSwgRm9ybUxhYmVsLCBGb3JtTWVzc2FnZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvZm9ybVwiXG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaW5wdXRcIlxuaW1wb3J0IHsgUG9wb3ZlciwgUG9wb3ZlckNvbnRlbnQsIFBvcG92ZXJUcmlnZ2VyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9wb3BvdmVyXCJcbmltcG9ydCB7IENhbGVuZGFyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jYWxlbmRhclwiXG5pbXBvcnQgeyBTZWxlY3QsIFNlbGVjdENvbnRlbnQsIFNlbGVjdEl0ZW0sIFNlbGVjdFRyaWdnZXIsIFNlbGVjdFZhbHVlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9zZWxlY3RcIlxuaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RleHRhcmVhXCJcbmltcG9ydCB7IGdldENsaW5pY3MgfSBmcm9tIFwiQC9saWIvZmlyZWJhc2VcIlxuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3VzZS10b2FzdFwiXG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSBcIkAvY29udGV4dHMvYXV0aC1jb250ZXh0XCJcbmltcG9ydCB7IFJhZGlvR3JvdXAsIFJhZGlvR3JvdXBJdGVtIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9yYWRpby1ncm91cFwiXG5pbXBvcnQgeyBjb2xsZWN0aW9uLCBnZXREb2NzIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiXG5pbXBvcnQgeyBkYiB9IGZyb20gXCJAL2xpYi9maXJlYmFzZVwiXG5pbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYVwiXG5pbXBvcnQgeyB1c2VQZXJtaXNzaW9ucyB9IGZyb20gXCJAL2hvb2tzL3VzZS1wZXJtaXNzaW9uc1wiXG5pbXBvcnQgeyBmZXRjaERvY3RvcldvcmtpbmdIb3Vycywgc2NoZWR1bGVBcHBvaW50bWVudCwgdW5ibG9ja1RpbWVTbG90IH0gZnJvbSBcIkAvbGliL2RvY3Rvci1zY2hlZHVsaW5nXCJcblxuLy8gSGVscGVyIGZ1bmN0aW9uc1xuY29uc3QgaXNEYXRlRGlzYWJsZWQgPSAoZGF0ZTogRGF0ZSwgZG9jdG9yV29ya2luZ0RheXM6IHN0cmluZ1tdKSA9PiB7XG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKVxuICB0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKVxuXG4gIGlmIChkYXRlIDwgdG9kYXkpIHJldHVybiB0cnVlXG5cbiAgY29uc3Qgd2Vla0RheSA9IGZvcm1hdChkYXRlLCBcIkVFRUVcIiwgeyBsb2NhbGU6IHB0QlIgfSlcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC5ub3JtYWxpemUoXCJORkRcIilcbiAgICAucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgXCJcIilcbiAgICAucmVwbGFjZShcIi1mZWlyYVwiLCBcIlwiKVxuXG4gIHJldHVybiAhZG9jdG9yV29ya2luZ0RheXMuaW5jbHVkZXMod2Vla0RheSlcbn1cblxuY29uc3QgaXNXb3JraW5nRGF5ID0gKGRhdGU6IERhdGUsIGRvY3RvcldvcmtpbmdEYXlzOiBzdHJpbmdbXSkgPT4ge1xuICBjb25zdCB3ZWVrRGF5ID0gZm9ybWF0KGRhdGUsIFwiRUVFRVwiLCB7IGxvY2FsZTogcHRCUiB9KVxuICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgLm5vcm1hbGl6ZShcIk5GRFwiKVxuICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCBcIlwiKVxuICAgIC5yZXBsYWNlKFwiLWZlaXJhXCIsIFwiXCIpXG5cbiAgcmV0dXJuIGRvY3RvcldvcmtpbmdEYXlzLmluY2x1ZGVzKHdlZWtEYXkpXG59XG5cbi8vIFNjaGVtYSBkZSB2YWxpZGHDp8OjbyBwYXJhIG8gZm9ybXVsw6FyaW8gZGUgY29uc3VsdGFcbmNvbnN0IGNvbnN1bHRhdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcGF0aWVudE5hbWU6IHouc3RyaW5nKCkubWluKDEsIFwiTm9tZSBkbyBwYWNpZW50ZSDDqSBvYnJpZ2F0w7NyaW9cIiksXG4gIGRvY3RvcklkOiB6LnN0cmluZygpLm1pbigxLCBcIk3DqWRpY28gw6kgb2JyaWdhdMOzcmlvXCIpLFxuICBjbGluaWNJZDogei5zdHJpbmcoKS5taW4oMSwgXCJQb3N0byBkZSBzYcO6ZGUgw6kgb2JyaWdhdMOzcmlvXCIpLFxuICBkYXRlOiB6XG4gICAgLmRhdGUoe1xuICAgICAgcmVxdWlyZWRfZXJyb3I6IFwiRGF0YSDDqSBvYnJpZ2F0w7NyaWFcIixcbiAgICAgIGludmFsaWRfdHlwZV9lcnJvcjogXCJEYXRhIGludsOhbGlkYVwiLFxuICAgIH0pXG4gICAgLm51bGxhYmxlKCksIC8vIE1ha2UgZGF0ZSBudWxsYWJsZVxuICB0aW1lOiB6LnN0cmluZygpLm1pbigxLCBcIkhvcsOhcmlvIMOpIG9icmlnYXTDs3Jpb1wiKSxcbiAgdHlwZTogei5zdHJpbmcoKS5taW4oMSwgXCJUaXBvIMOpIG9icmlnYXTDs3Jpb1wiKSxcbiAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pXG5cbi8qKlxuICogQ29tcG9uZW50ZSBwYXJhIGFnZW5kYW1lbnRvIGRlIGNvbnN1bHRhcyBtw6lkaWNhc1xuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gUHJvcHJpZWRhZGVzIGRvIGNvbXBvbmVudGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLm9uU3VjY2VzcyAtIEZ1bsOnw6NvIGNoYW1hZGEgYXDDs3MgbyBhZ2VuZGFtZW50byBiZW0tc3VjZWRpZG9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbnN1bHRhdGlvbkZvcm0oeyBvblN1Y2Nlc3MgfTogeyBvblN1Y2Nlc3M/OiAoKSA9PiB2b2lkIH0pIHtcbiAgLy8gRXN0YWRvcyBkbyBjb21wb25lbnRlXG4gIGNvbnN0IFtvcGVuLCBzZXRPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbZG9jdG9ycywgc2V0RG9jdG9yc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pXG4gIGNvbnN0IFtjbGluaWNzLCBzZXRDbGluaWNzXSA9IHVzZVN0YXRlPGFueVtdPihbXSlcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSlcbiAgY29uc3QgW2F2YWlsYWJsZVRpbWVTbG90cywgc2V0QXZhaWxhYmxlVGltZVNsb3RzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSlcbiAgY29uc3QgW2xvYWRpbmdUaW1lU2xvdHMsIHNldExvYWRpbmdUaW1lU2xvdHNdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KClcbiAgY29uc3QgeyB1c2VyIH0gPSB1c2VBdXRoKClcbiAgY29uc3QgeyBjYW5TY2hlZHVsZUFwcG9pbnRtZW50cyB9ID0gdXNlUGVybWlzc2lvbnMoKVxuICBjb25zdCBbc2VsZWN0ZWREb2N0b3JTZXJ2aWNlcywgc2V0U2VsZWN0ZWREb2N0b3JTZXJ2aWNlc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pXG4gIGNvbnN0IFtkb2N0b3JXb3JraW5nRGF5cywgc2V0RG9jdG9yV29ya2luZ0RheXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKVxuICBjb25zdCBbZG9jdG9yV29ya2luZ0hvdXJzLCBzZXREb2N0b3JXb3JraW5nSG91cnNdID0gdXNlU3RhdGU8eyBzdGFydDogc3RyaW5nOyBlbmQ6IHN0cmluZyB9Pih7XG4gICAgc3RhcnQ6IFwiMDg6MDBcIixcbiAgICBlbmQ6IFwiMTg6MDBcIixcbiAgfSlcbiAgLy8gRXN0YWRvIHBhcmEgY29udHJvbGFyIG8gcG9wb3ZlciBkbyBjYWxlbmTDoXJpb1xuICBjb25zdCBbY2FsZW5kYXJPcGVuLCBzZXRDYWxlbmRhck9wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG4gIC8vIEVzdGFkbyBwYXJhIGFybWF6ZW5hciBvIElEIGRvIGJsb3F1ZWlvIHRlbXBvcsOhcmlvXG4gIGNvbnN0IFt0ZW1wb3JhcnlCbG9ja0lkLCBzZXRUZW1wb3JhcnlCbG9ja0lkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgLy8gSW5pY2lhbGl6YcOnw6NvIGRvIGZvcm11bMOhcmlvIGNvbSBSZWFjdCBIb29rIEZvcm1cbiAgY29uc3QgZm9ybSA9IHVzZUZvcm08ei5pbmZlcjx0eXBlb2YgY29uc3VsdGF0aW9uU2NoZW1hPj4oe1xuICAgIHJlc29sdmVyOiB6b2RSZXNvbHZlcihjb25zdWx0YXRpb25TY2hlbWEpLFxuICAgIGRlZmF1bHRWYWx1ZXM6IHtcbiAgICAgIHBhdGllbnROYW1lOiBcIlwiLFxuICAgICAgZG9jdG9ySWQ6IFwiXCIsXG4gICAgICBjbGluaWNJZDogdXNlcj8uY2xpbmljSWQgfHwgXCJcIixcbiAgICAgIHRpbWU6IFwiXCIsXG4gICAgICB0eXBlOiBcIlwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgfSxcbiAgfSlcblxuICAvLyBPYnNlcnZhciB2YWxvcmVzIGRvIGZvcm11bMOhcmlvIHBhcmEgYXR1YWxpemHDp8OjbyBkaW7Dom1pY2FcbiAgY29uc3Qgc2VsZWN0ZWREYXRlID0gZm9ybS53YXRjaChcImRhdGVcIilcbiAgY29uc3Qgc2VsZWN0ZWRDbGluaWMgPSBmb3JtLndhdGNoKFwiY2xpbmljSWRcIilcbiAgY29uc3Qgc2VsZWN0ZWREb2N0b3IgPSBmb3JtLndhdGNoKFwiZG9jdG9ySWRcIilcbiAgY29uc3Qgc2VsZWN0ZWRUaW1lID0gZm9ybS53YXRjaChcInRpbWVcIilcblxuICAvLyBDYXJyZWdhciBtw6lkaWNvcyBlIHBvc3RvcyBkZSBzYcO6ZGUgYW8gaW5pY2lhciBvIGNvbXBvbmVudGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRMb2FkaW5nKHRydWUpXG5cbiAgICAgICAgY29uc3QgZmV0Y2hlZENsaW5pY3MgPSBhd2FpdCBnZXRDbGluaWNzKClcbiAgICAgICAgc2V0Q2xpbmljcyhBcnJheS5pc0FycmF5KGZldGNoZWRDbGluaWNzKSA/IGZldGNoZWRDbGluaWNzIDogW10pXG5cbiAgICAgICAgaWYgKHNlbGVjdGVkQ2xpbmljKSB7XG4gICAgICAgICAgLy8gQnVzY2FyIG3DqWRpY29zIGRhIHN1YmNvbGXDp8OjbyBkb2N0b3JzXG4gICAgICAgICAgY29uc3QgZG9jdG9yc0NvbGxlY3Rpb25SZWYgPSBjb2xsZWN0aW9uKGRiLCBcImNsaW5pY3NcIiwgc2VsZWN0ZWRDbGluaWMsIFwiZG9jdG9yc1wiKVxuICAgICAgICAgIGNvbnN0IGRvY3RvcnNTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoZG9jdG9yc0NvbGxlY3Rpb25SZWYpXG5cbiAgICAgICAgICBjb25zdCBkb2N0b3JzRGF0YSA9IGRvY3RvcnNTbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgICAgZnVsbE5hbWU6IGAke2RhdGEuZmlyc3ROYW1lfSAke2RhdGEubGFzdE5hbWV9YCxcbiAgICAgICAgICAgICAgd29ya2luZ0RheXM6IGRhdGEuc2NoZWR1bGU/LndvcmtpbmdEYXlzIHx8IFtdLFxuICAgICAgICAgICAgICB3b3JraW5nSG91cnM6IGRhdGEuc2NoZWR1bGU/LndvcmtpbmdIb3VycyB8fCB7IHN0YXJ0OiBcIjA4OjAwXCIsIGVuZDogXCIxODowMFwiIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHNldERvY3RvcnMoZG9jdG9yc0RhdGEpXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGNhcnJlZ2FyIGRhZG9zOlwiLCBlcnJvcilcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiBcIkVycm8gYW8gY2FycmVnYXIgZGFkb3NcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJOw6NvIGZvaSBwb3Nzw612ZWwgY2FycmVnYXIgYSBsaXN0YSBkZSBtw6lkaWNvcyBlIHBvc3RvcyBkZSBzYcO6ZGUuXCIsXG4gICAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgICB9KVxuICAgICAgICBzZXREb2N0b3JzKFtdKVxuICAgICAgICBzZXRDbGluaWNzKFtdKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3Blbikge1xuICAgICAgZmV0Y2hEYXRhKClcbiAgICB9XG4gIH0sIFtvcGVuLCBzZWxlY3RlZENsaW5pYywgdG9hc3RdKVxuXG4gIC8vIEZ1bsOnw6NvIHBhcmEgbGlkYXIgY29tIGEgbXVkYW7Dp2EgZGUgbcOpZGljbyBzZWxlY2lvbmFkb1xuICBjb25zdCBoYW5kbGVEb2N0b3JDaGFuZ2UgPSBhc3luYyAoZG9jdG9ySWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghZG9jdG9ySWQgfHwgIXNlbGVjdGVkQ2xpbmljKSByZXR1cm5cblxuICAgIHRyeSB7XG4gICAgICAvLyBMaW1wYXIgYmxvcXVlaW8gdGVtcG9yw6FyaW8gc2UgZXhpc3RpclxuICAgICAgaWYgKHRlbXBvcmFyeUJsb2NrSWQpIHtcbiAgICAgICAgYXdhaXQgdW5ibG9ja1RpbWVTbG90KHRlbXBvcmFyeUJsb2NrSWQsIFwiY2FuY2VsbGVkXCIpXG4gICAgICAgIHNldFRlbXBvcmFyeUJsb2NrSWQobnVsbClcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2VsZWN0ZWREb2N0b3IgPSBkb2N0b3JzLmZpbmQoKGQpID0+IGQuaWQgPT09IGRvY3RvcklkKVxuICAgICAgaWYgKCFzZWxlY3RlZERvY3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNw6lkaWNvIG7Do28gZW5jb250cmFkb1wiKVxuICAgICAgfVxuXG4gICAgICAvLyBBdHVhbGl6YXIgZm9ybXVsw6FyaW8gY29tIGRhZG9zIGRvIG3DqWRpY29cbiAgICAgIGZvcm0uc2V0VmFsdWUoXCJkb2N0b3JJZFwiLCBkb2N0b3JJZClcbiAgICAgIGZvcm0uc2V0VmFsdWUoXCJ0eXBlXCIsIFwiXCIpXG4gICAgICBmb3JtLnNldFZhbHVlKFwiZGF0ZVwiLCBudWxsKVxuICAgICAgZm9ybS5zZXRWYWx1ZShcInRpbWVcIiwgXCJcIilcblxuICAgICAgLy8gQnVzY2FyIGhvcsOhcmlvcyBkZSB0cmFiYWxobyBkbyBtw6lkaWNvIGRpcmV0YW1lbnRlIGRvIEZpcmVzdG9yZVxuICAgICAgY29uc3QgZG9jdG9yU2NoZWR1bGUgPSBhd2FpdCBmZXRjaERvY3RvcldvcmtpbmdIb3VycyhzZWxlY3RlZENsaW5pYywgZG9jdG9ySWQpXG5cbiAgICAgIC8vIEF0dWFsaXphciBlc3RhZG9zIGNvbSBvcyBkYWRvcyBkbyBzY2hlZHVsZSBkbyBtw6lkaWNvXG4gICAgICBzZXRTZWxlY3RlZERvY3RvclNlcnZpY2VzKHNlbGVjdGVkRG9jdG9yLnNlcnZpY2VzIHx8IFtdKVxuICAgICAgc2V0RG9jdG9yV29ya2luZ0RheXMoZG9jdG9yU2NoZWR1bGUud29ya2luZ0RheXMpXG4gICAgICBzZXREb2N0b3JXb3JraW5nSG91cnMoZG9jdG9yU2NoZWR1bGUud29ya2luZ0hvdXJzKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBidXNjYXIgaW5mb3JtYcOnw7VlcyBkbyBtw6lkaWNvOlwiLCBlcnJvcilcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiRXJyb1wiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJOw6NvIGZvaSBwb3Nzw612ZWwgY2FycmVnYXIgYXMgaW5mb3JtYcOnw7VlcyBkbyBtw6lkaWNvLlwiLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICB9KVxuICAgICAgLy8gUmVzZXRhciBlc3RhZG9zXG4gICAgICBzZXRTZWxlY3RlZERvY3RvclNlcnZpY2VzKFtdKVxuICAgICAgc2V0RG9jdG9yV29ya2luZ0RheXMoW10pXG4gICAgICBzZXREb2N0b3JXb3JraW5nSG91cnMoeyBzdGFydDogXCIwODowMFwiLCBlbmQ6IFwiMTg6MDBcIiB9KVxuICAgIH1cbiAgfVxuXG4gIC8vIE1vdmUgZmV0Y2hBdmFpbGFibGVUaW1lU2xvdHMgb3V0c2lkZSB1c2VFZmZlY3QgYnV0IGluc2lkZSBjb21wb25lbnRcbiAgY29uc3QgZmV0Y2hBdmFpbGFibGVUaW1lU2xvdHMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZERhdGUgfHwgIXNlbGVjdGVkQ2xpbmljIHx8ICFzZWxlY3RlZERvY3RvcikgcmV0dXJuXG5cbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZ1RpbWVTbG90cyh0cnVlKVxuICAgICAgc2V0QXZhaWxhYmxlVGltZVNsb3RzKFtdKVxuXG4gICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgc2xvdHMgd2l0aCBwYXJhbXM6Jywge1xuICAgICAgICBjbGluaWNJZDogc2VsZWN0ZWRDbGluaWMsXG4gICAgICAgIGRvY3RvcklkOiBzZWxlY3RlZERvY3RvcixcbiAgICAgICAgZGF0ZTogc2VsZWN0ZWREYXRlLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAvYXBpL2FwcG9pbnRtZW50cz9jbGluaWNJZD0ke3NlbGVjdGVkQ2xpbmljfSZkb2N0b3JJZD0ke3NlbGVjdGVkRG9jdG9yfSZkYXRlPSR7c2VsZWN0ZWREYXRlLnRvSVNPU3RyaW5nKCl9YFxuICAgICAgKVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQVBJIEVycm9yOicsIGRhdGEpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yIHx8ICdGYWlsZWQgdG8gZmV0Y2ggYXZhaWxhYmxlIHNsb3RzJylcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ0FQSSBSZXNwb25zZTonLCBkYXRhKVxuXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YS5hdmFpbGFibGVTbG90cykpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCByZXNwb25zZSBmb3JtYXQ6JywgZGF0YSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZlciByZXNwb25zZSBmb3JtYXQnKVxuICAgICAgfVxuXG4gICAgICBzZXRBdmFpbGFibGVUaW1lU2xvdHMoZGF0YS5hdmFpbGFibGVTbG90cylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc2xvdHM6JywgZXJyb3IpXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkVycm8gYW8gY2FycmVnYXIgaG9yw6FyaW9zXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRXJybyBhbyBjYXJyZWdhciBob3LDoXJpb3MgZGlzcG9uw612ZWlzXCIsXG4gICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgIH0pXG4gICAgICBzZXRBdmFpbGFibGVUaW1lU2xvdHMoW10pXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmdUaW1lU2xvdHMoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIHRoZSB1c2VFZmZlY3QgdG8gdXNlIHRoZSBmdW5jdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoQXZhaWxhYmxlVGltZVNsb3RzKClcbiAgfSwgW3NlbGVjdGVkRGF0ZSwgc2VsZWN0ZWRDbGluaWMsIHNlbGVjdGVkRG9jdG9yLCBkb2N0b3JXb3JraW5nSG91cnNdKVxuXG4gIC8vIEJsb3F1ZWFyIGhvcsOhcmlvIHRlbXBvcmFyaWFtZW50ZSBxdWFuZG8gbyB1c3XDoXJpbyBzZWxlY2lvbmFyIHVtIGhvcsOhcmlvXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgYmxvY2tTZWxlY3RlZFRpbWVTbG90ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gVmVyaWZpY2FyIHNlIHRvZG9zIG9zIGNhbXBvcyBuZWNlc3PDoXJpb3MgZXN0w6NvIHByZWVuY2hpZG9zXG4gICAgICBpZiAoIXNlbGVjdGVkRGF0ZSB8fCAhc2VsZWN0ZWRDbGluaWMgfHwgIXNlbGVjdGVkRG9jdG9yIHx8ICFzZWxlY3RlZFRpbWUpIHJldHVyblxuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBMaW1wYXIgYmxvcXVlaW8gYW50ZXJpb3Igc2UgZXhpc3RpclxuICAgICAgICBpZiAodGVtcG9yYXJ5QmxvY2tJZCkge1xuICAgICAgICAgIGF3YWl0IHVuYmxvY2tUaW1lU2xvdCh0ZW1wb3JhcnlCbG9ja0lkLCBcImNhbmNlbGxlZFwiKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmxvcXVlYXIgbyBub3ZvIGhvcsOhcmlvXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2FwcG9pbnRtZW50c1wiLCB7XG4gICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGNsaW5pY0lkOiBzZWxlY3RlZENsaW5pYyxcbiAgICAgICAgICAgIGRvY3RvcklkOiBzZWxlY3RlZERvY3RvcixcbiAgICAgICAgICAgIGRhdGU6IHNlbGVjdGVkRGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgdGltZTogc2VsZWN0ZWRUaW1lLFxuICAgICAgICAgICAgYWN0aW9uOiBcImJsb2NrXCIsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBibG9jayB0aW1lIHNsb3RcIilcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgICAgc2V0VGVtcG9yYXJ5QmxvY2tJZChkYXRhLmJsb2NrSWQpXG5cbiAgICAgICAgLy8gQ29uZmlndXJhciB1bSB0ZW1wb3JpemFkb3IgcGFyYSBsaW1wYXIgbyBibG9xdWVpbyBhcMOzcyA1IG1pbnV0b3Mgc2UgbyBmb3JtdWzDoXJpbyBuw6NvIGZvciBlbnZpYWRvXG4gICAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoXG4gICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRlbXBvcmFyeUJsb2NrSWQpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB1bmJsb2NrVGltZVNsb3QodGVtcG9yYXJ5QmxvY2tJZCwgXCJleHBpcmVkXCIpXG4gICAgICAgICAgICAgICAgc2V0VGVtcG9yYXJ5QmxvY2tJZChudWxsKVxuXG4gICAgICAgICAgICAgICAgLy8gTm90aWZpY2FyIG8gdXN1w6FyaW8gc2UgbyBmb3JtdWzDoXJpbyBhaW5kYSBlc3RpdmVyIGFiZXJ0b1xuICAgICAgICAgICAgICAgIGlmIChvcGVuKSB7XG4gICAgICAgICAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlJlc2VydmEgZGUgaG9yw6FyaW8gZXhwaXJhZGFcIixcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiQSByZXNlcnZhIHRlbXBvcsOhcmlhIGRvIGhvcsOhcmlvIGV4cGlyb3UuIFBvciBmYXZvciwgc2VsZWNpb25lIG8gaG9yw6FyaW8gbm92YW1lbnRlLlwiLFxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAvLyBMaW1wYXIgbyBob3LDoXJpbyBzZWxlY2lvbmFkb1xuICAgICAgICAgICAgICAgICAgZm9ybS5zZXRWYWx1ZShcInRpbWVcIiwgXCJcIilcblxuICAgICAgICAgICAgICAgICAgLy8gUmVjYXJyZWdhciBvcyBob3LDoXJpb3MgZGlzcG9uw612ZWlzXG4gICAgICAgICAgICAgICAgICBhd2FpdCBmZXRjaEF2YWlsYWJsZVRpbWVTbG90cygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGV4cGlyYXIgYmxvcXVlaW86XCIsIGVycm9yKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICA1ICogNjAgKiAxMDAwLFxuICAgICAgICApIC8vIDUgbWludXRvc1xuXG4gICAgICAgIC8vIExpbXBhciBvIHRlbXBvcml6YWRvciBxdWFuZG8gbyBjb21wb25lbnRlIGZvciBkZXNtb250YWRvXG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dElkKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gYmxvcXVlYXIgaG9yw6FyaW86XCIsIGVycm9yKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzZWxlY3RlZFRpbWUpIHtcbiAgICAgIGJsb2NrU2VsZWN0ZWRUaW1lU2xvdCgpXG4gICAgfVxuICB9LCBbc2VsZWN0ZWRUaW1lLCBzZWxlY3RlZERhdGUsIHNlbGVjdGVkQ2xpbmljLCBzZWxlY3RlZERvY3RvciwgdGVtcG9yYXJ5QmxvY2tJZCwgb3BlbiwgdG9hc3QsIGZvcm1dKVxuXG4gIC8vIEZ1bsOnw6NvIHBhcmEgZW52aWFyIG8gZm9ybXVsw6FyaW9cbiAgYXN5bmMgZnVuY3Rpb24gb25TdWJtaXQoZGF0YTogei5pbmZlcjx0eXBlb2YgY29uc3VsdGF0aW9uU2NoZW1hPikge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIWRhdGEuZGF0ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhIMOpIG9icmlnYXTDs3JpYVwiKVxuICAgICAgfVxuXG4gICAgICAvLyBWZXJpZmljYXIgc2UgYWluZGEgdGVtb3MgdW0gYmxvcXVlaW8gdsOhbGlkb1xuICAgICAgaWYgKCF0ZW1wb3JhcnlCbG9ja0lkKSB7XG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogXCJSZXNlcnZhIGRlIGhvcsOhcmlvIGV4cGlyYWRhXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiQSByZXNlcnZhIHRlbXBvcsOhcmlhIGRvIGhvcsOhcmlvIGV4cGlyb3UuIFBvciBmYXZvciwgc2VsZWNpb25lIG8gaG9yw6FyaW8gbm92YW1lbnRlLlwiLFxuICAgICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIEFnZW5kYXIgYSBjb25zdWx0YSB1c2FuZG8gbyBibG9xdWVpbyB0ZW1wb3LDoXJpb1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2NoZWR1bGVBcHBvaW50bWVudChcbiAgICAgICAge1xuICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgZGF0ZTogZGF0YS5kYXRlLFxuICAgICAgICAgIHRpbWU6IGRhdGEudGltZSxcbiAgICAgICAgICBzdGF0dXM6IFwiQWdlbmRhZG9cIixcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcG9yYXJ5QmxvY2tJZCxcbiAgICAgIClcblxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJDb25zdWx0YSBhZ2VuZGFkYVwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJBIGNvbnN1bHRhIGZvaSBhZ2VuZGFkYSBjb20gc3VjZXNzby5cIixcbiAgICAgIH0pXG5cbiAgICAgIC8vIExpbXBhciBvIElEIGRvIGJsb3F1ZWlvIHRlbXBvcsOhcmlvXG4gICAgICBzZXRUZW1wb3JhcnlCbG9ja0lkKG51bGwpXG5cbiAgICAgIGZvcm0ucmVzZXQoKVxuICAgICAgc2V0T3BlbihmYWxzZSlcbiAgICAgIGlmIChvblN1Y2Nlc3MpIG9uU3VjY2VzcygpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGFnZW5kYXIgY29uc3VsdGE6XCIsIGVycm9yKVxuXG4gICAgICAvLyBUZW50YXIgbGliZXJhciBvIGJsb3F1ZWlvIGVtIGNhc28gZGUgZXJyb1xuICAgICAgaWYgKHRlbXBvcmFyeUJsb2NrSWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCB1bmJsb2NrVGltZVNsb3QodGVtcG9yYXJ5QmxvY2tJZCwgXCJjYW5jZWxsZWRcIilcbiAgICAgICAgICBzZXRUZW1wb3JhcnlCbG9ja0lkKG51bGwpXG4gICAgICAgIH0gY2F0Y2ggKHVuYmxvY2tFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGRlc2Jsb3F1ZWFyIGhvcsOhcmlvOlwiLCB1bmJsb2NrRXJyb3IpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJFcnJvIGFvIGFnZW5kYXIgY29uc3VsdGFcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiT2NvcnJldSB1bSBlcnJvIGFvIGFnZW5kYXIgYSBjb25zdWx0YS4gVGVudGUgbm92YW1lbnRlLlwiLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8vIExpbXBhciBibG9xdWVpbyB0ZW1wb3LDoXJpbyBhbyBmZWNoYXIgbyBkacOhbG9nb1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAvLyBDbGVhbnVwIGZ1bmN0aW9uIHRoYXQgcnVucyB3aGVuIGNvbXBvbmVudCB1bm1vdW50c1xuICAgICAgaWYgKHRlbXBvcmFyeUJsb2NrSWQpIHtcbiAgICAgICAgdW5ibG9ja1RpbWVTbG90KHRlbXBvcmFyeUJsb2NrSWQsIFwiY2FuY2VsbGVkXCIpLmNhdGNoKChlcnJvcikgPT5cbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBkZXNibG9xdWVhciBob3LDoXJpbzpcIiwgZXJyb3IpLFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9LCBbdGVtcG9yYXJ5QmxvY2tJZF0pXG5cbiAgLy8gVmVyaWZpY2FyIHBlcm1pc3PDtWVzIC0gcGVybWl0aXIgYWdlbmRhbWVudG8gcGFyYSBhZG1pbiwgcmVjZXB0aW9uaXN0LCBkb2N0b3IgZSBudXJzZVxuICBpZiAoIWNhblNjaGVkdWxlQXBwb2ludG1lbnRzKCkgJiYgIVtcImRvY3RvclwiLCBcIm51cnNlXCJdLmluY2x1ZGVzKHVzZXI/LnR5cGUgfHwgXCJcIikpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgLy8gTWFwZWFyIGRpYXMgZGEgc2VtYW5hIHBhcmEgZXhpYmnDp8OjbyBlbSBwb3J0dWd1w6pzXG4gIGNvbnN0IGdldERheU5hbWUgPSAoZGF5OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBkYXlzID0gW1wiRG9taW5nb1wiLCBcIlNlZ3VuZGFcIiwgXCJUZXLDp2FcIiwgXCJRdWFydGFcIiwgXCJRdWludGFcIiwgXCJTZXh0YVwiLCBcIlPDoWJhZG9cIl1cbiAgICByZXR1cm4gZGF5c1tkYXldXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxEaWFsb2dcbiAgICAgIG9wZW49e29wZW59XG4gICAgICBvbk9wZW5DaGFuZ2U9eyhuZXdPcGVuKSA9PiB7XG4gICAgICAgIC8vIFNlIGVzdGl2ZXIgZmVjaGFuZG8gbyBkacOhbG9nbyBlIHRpdmVyIHVtIGJsb3F1ZWlvIHRlbXBvcsOhcmlvLCBjYW5jZWzDoS1sb1xuICAgICAgICBpZiAoIW5ld09wZW4gJiYgdGVtcG9yYXJ5QmxvY2tJZCkge1xuICAgICAgICAgIHVuYmxvY2tUaW1lU2xvdCh0ZW1wb3JhcnlCbG9ja0lkLCBcImNhbmNlbGxlZFwiKS5jYXRjaCgoZXJyb3IpID0+XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBkZXNibG9xdWVhciBob3LDoXJpbzpcIiwgZXJyb3IpLFxuICAgICAgICAgIClcbiAgICAgICAgICBzZXRUZW1wb3JhcnlCbG9ja0lkKG51bGwpXG4gICAgICAgIH1cbiAgICAgICAgc2V0T3BlbihuZXdPcGVuKVxuICAgICAgfX1cbiAgICA+XG4gICAgICA8RGlhbG9nVHJpZ2dlciBhc0NoaWxkPlxuICAgICAgICA8QnV0dG9uPkFnZW5kYXIgQ29uc3VsdGE8L0J1dHRvbj5cbiAgICAgIDwvRGlhbG9nVHJpZ2dlcj5cbiAgICAgIDxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT1cInNtOm1heC13LVs1MDBweF0gbWF4LWgtWzkwdmhdIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICA8RGlhbG9nSGVhZGVyPlxuICAgICAgICAgIDxEaWFsb2dUaXRsZT5BZ2VuZGFyIENvbnN1bHRhPC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICB7dXNlcj8udHlwZSA9PT0gXCJhZG1pblwiXG4gICAgICAgICAgICAgID8gXCJDb21vIGFkbWluaXN0cmFkb3IsIHZvY8OqIHBvZGUgYWdlbmRhciBjb25zdWx0YXMgcGFyYSBxdWFscXVlciBwb3N0by5cIlxuICAgICAgICAgICAgICA6IFwiVm9jw6ogc8OzIHBvZGUgYWdlbmRhciBjb25zdWx0YXMgcGFyYSBzZXUgcG9zdG8gYXR1YWwuXCJ9XG4gICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG4gICAgICAgIDxTY3JvbGxBcmVhIGNsYXNzTmFtZT1cIm1heC1oLVs3MHZoXVwiPlxuICAgICAgICAgIDxGb3JtIHsuLi5mb3JtfT5cbiAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtmb3JtLmhhbmRsZVN1Ym1pdChvblN1Ym1pdCl9IGNsYXNzTmFtZT1cInNwYWNlLXktNCBweC0xXCI+XG4gICAgICAgICAgICAgIHsvKiBDYW1wbzogTm9tZSBkbyBQYWNpZW50ZSAqL31cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPVwicGF0aWVudE5hbWVcIlxuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPk5vbWUgZG8gUGFjaWVudGU8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj1cIkRpZ2l0ZSBvIG5vbWUgZG8gcGFjaWVudGVcIiB7Li4uZmllbGR9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIHsvKiBDYW1wbzogUG9zdG8gZGUgU2HDumRlICovfVxuICAgICAgICAgICAgICB7dXNlcj8udHlwZSA9PT0gXCJhZG1pblwiID8gKFxuICAgICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJjbGluaWNJZFwiXG4gICAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+UG9zdG8gZGUgU2HDumRlPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgb25WYWx1ZUNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLm9uQ2hhbmdlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMaW1wYXIgbcOpZGljbywgZGF0YSBlIGhvcmEgYW8gbXVkYXIgZGUgY2zDrW5pY2FcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5zZXRWYWx1ZShcImRvY3RvcklkXCIsIFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uc2V0VmFsdWUoXCJkYXRlXCIsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uc2V0VmFsdWUoXCJ0aW1lXCIsIFwiXCIpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGltcGFyIGJsb3F1ZWlvIHRlbXBvcsOhcmlvIHNlIGV4aXN0aXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBvcmFyeUJsb2NrSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmJsb2NrVGltZVNsb3QodGVtcG9yYXJ5QmxvY2tJZCwgXCJjYW5jZWxsZWRcIikuY2F0Y2goKGVycm9yKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gZGVzYmxvcXVlYXIgaG9yw6FyaW86XCIsIGVycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGVtcG9yYXJ5QmxvY2tJZChudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2ZpZWxkLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPVwiU2VsZWNpb25lIG8gcG9zdG8gZGUgc2HDumRlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9hZGluZyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwiaC00IHctNCBhbmltYXRlLXNwaW4gbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+Q2FycmVnYW5kby4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IGNsaW5pY3MubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yIHRleHQtY2VudGVyIHRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZW5odW0gcG9zdG8gZGUgc2HDumRlIGVuY29udHJhZG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGluaWNzLm1hcCgoY2xpbmljKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e2NsaW5pYy5pZH0gdmFsdWU9e2NsaW5pYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjbGluaWMubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgey4uLmZvcm0ucmVnaXN0ZXIoXCJjbGluaWNJZFwiKX0gdmFsdWU9e3VzZXI/LmNsaW5pY0lkfSAvPlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIHsvKiBDYW1wbzogTcOpZGljbyAqL31cbiAgICAgICAgICAgICAge3VzZXI/LnR5cGUgPT09IFwiZG9jdG9yXCIgPyAoXG4gICAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICAgICAgbmFtZT1cImRvY3RvcklkXCJcbiAgICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5Nw6lkaWNvPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHZhbHVlPXtgRHIoYSkuICR7dXNlci5uYW1lfWB9IGRpc2FibGVkIGNsYXNzTmFtZT1cImJnLW11dGVkXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJkb2N0b3JJZFwiXG4gICAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+TcOpZGljbzwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3Qgb25WYWx1ZUNoYW5nZT17aGFuZGxlRG9jdG9yQ2hhbmdlfSB2YWx1ZT17ZmllbGQudmFsdWV9IGRpc2FibGVkPXshc2VsZWN0ZWRDbGluaWN9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtzZWxlY3RlZENsaW5pYyA/IFwiU2VsZWNpb25lIG8gbcOpZGljb1wiIDogXCJTZWxlY2lvbmUgdW0gcG9zdG8gcHJpbWVpcm9cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtsb2FkaW5nID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc21cIj5DYXJyZWdhbmRvLi4uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogZG9jdG9ycy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5lbmh1bSBtw6lkaWNvIGVuY29udHJhZG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N0b3JzLm1hcCgoZG9jdG9yKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e2RvY3Rvci5pZH0gdmFsdWU9e2RvY3Rvci5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyKGEpLiB7ZG9jdG9yLmZ1bGxOYW1lfSAtIHtkb2N0b3IuZnVuY3Rpb24gfHwgXCJNw6lkaWNvXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICB7LyogQ2FtcG86IERhdGEgLSBDb3JyaWdpZG8gcGFyYSBnYXJhbnRpciBxdWUgbyBjYWxlbmTDoXJpbyBmdW5jaW9uZSAqL31cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPVwiZGF0ZVwiXG4gICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0gY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkRhdGE8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPFBvcG92ZXIgb3Blbj17Y2FsZW5kYXJPcGVufSBvbk9wZW5DaGFuZ2U9e3NldENhbGVuZGFyT3Blbn0+XG4gICAgICAgICAgICAgICAgICAgICAgPFBvcG92ZXJUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PXtcIm91dGxpbmVcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFwidy1mdWxsIHBsLTMgdGV4dC1sZWZ0IGZvbnQtbm9ybWFsXCIsICFmaWVsZC52YWx1ZSAmJiBcInRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXNlbGVjdGVkRG9jdG9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldENhbGVuZGFyT3Blbih0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZC52YWx1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdChmaWVsZC52YWx1ZSwgXCJQUFBcIiwgeyBsb2NhbGU6IHB0QlIgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3NlbGVjdGVkRG9jdG9yID8gXCJTZWxlY2lvbmUgdW1hIGRhdGFcIiA6IFwiU2VsZWNpb25lIHVtIG3DqWRpY28gcHJpbWVpcm9cIn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJJY29uIGNsYXNzTmFtZT1cIm1sLWF1dG8gaC00IHctNCBvcGFjaXR5LTUwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDwvUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPFBvcG92ZXJDb250ZW50IGNsYXNzTmFtZT1cInctYXV0byBwLTBcIiBhbGlnbj1cInN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZT1cInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ9e2ZpZWxkLnZhbHVlIHx8IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9eyhzZWxlY3RlZDogRGF0ZSB8IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLm9uQ2hhbmdlKHNlbGVjdGVkKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGltcGFyIGhvcsOhcmlvIGUgYmxvcXVlaW8gdGVtcG9yw6FyaW8gYW8gbXVkYXIgYSBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5zZXRWYWx1ZShcInRpbWVcIiwgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcG9yYXJ5QmxvY2tJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5ibG9ja1RpbWVTbG90KHRlbXBvcmFyeUJsb2NrSWQsIFwiY2FuY2VsbGVkXCIpLmNhdGNoKChlcnJvcikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gZGVzYmxvcXVlYXIgaG9yw6FyaW86XCIsIGVycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRlbXBvcmFyeUJsb2NrSWQobnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYWxlbmRhck9wZW4oZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXsoZGF0ZSkgPT4gaXNEYXRlRGlzYWJsZWQoZGF0ZSwgZG9jdG9yV29ya2luZ0RheXMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllcnM9e3sgd29ya2luZ0RheTogKGRhdGUpID0+IGlzV29ya2luZ0RheShkYXRlLCBkb2N0b3JXb3JraW5nRGF5cykgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzQ2xhc3NOYW1lcz17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtpbmdEYXk6IHN0eWxlcy53b3JraW5nRGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZGF5OiBzdHlsZXMudG9kYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHN0eWxlcy5zZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogc3R5bGVzLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jYWxlbmRhcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lcz17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheTogc3R5bGVzLmNhbGVuZGFyVGlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZfYnV0dG9uX3ByZXZpb3VzOiBzdHlsZXMubmF2aWdhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZfYnV0dG9uX25leHQ6IHN0eWxlcy5uYXZpZ2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcHRpb246IHN0eWxlcy5tb250aExhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRfY2VsbDogc3R5bGVzLndlZWtEYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxGb2N1c1xuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L1BvcG92ZXJDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICA8L1BvcG92ZXI+XG4gICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZERvY3RvciAmJiBkb2N0b3JXb3JraW5nRGF5cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBEaWFzIGRpc3BvbsOtdmVpczp7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jdG9yV29ya2luZ0RheXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZGF5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF5SW5kZXggPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN1bmRheVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtb25kYXlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHVlc2RheVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWRuZXNkYXlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGh1cnNkYXlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZnJpZGF5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNhdHVyZGF5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5pbmRleE9mKGRheSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RGF5TmFtZShkYXlJbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oXCIsIFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIHsvKiBDYW1wbzogSG9yw6FyaW8gKi99XG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgbmFtZT1cInRpbWVcIlxuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkhvcsOhcmlvPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIHtsb2FkaW5nVGltZVNsb3RzID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC0yIGJvcmRlciByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc21cIj5DYXJyZWdhbmRvIGhvcsOhcmlvcyBkaXNwb27DrXZlaXMuLi48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAhc2VsZWN0ZWREYXRlID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgcC0yIGJvcmRlciByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBTZWxlY2lvbmUgdW1hIGRhdGEgcGFyYSB2ZXIgb3MgaG9yw6FyaW9zIGRpc3BvbsOtdmVpcy5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IGF2YWlsYWJsZVRpbWVTbG90cy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxSYWRpb0dyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICBvblZhbHVlQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGltcGFyIGJsb3F1ZWlvIHRlbXBvcsOhcmlvIGFudGVyaW9yIHNlIGV4aXN0aXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBvcmFyeUJsb2NrSWQgJiYgZmllbGQudmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5ibG9ja1RpbWVTbG90KHRlbXBvcmFyeUJsb2NrSWQsIFwiY2FuY2VsbGVkXCIpLmNhdGNoKChlcnJvcikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGRlc2Jsb3F1ZWFyIGhvcsOhcmlvOlwiLCBlcnJvciksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRlbXBvcmFyeUJsb2NrSWQobnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLm9uQ2hhbmdlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmaWVsZC52YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTJcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHthdmFpbGFibGVUaW1lU2xvdHMubWFwKChzbG90KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbSBrZXk9e3Nsb3R9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMSBzcGFjZS15LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmFkaW9Hcm91cEl0ZW0gdmFsdWU9e3Nsb3R9IGlkPXtgdGltZS0ke3Nsb3R9YH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWwgaHRtbEZvcj17YHRpbWUtJHtzbG90fWB9IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1ub3JtYWwgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzbG90fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9SYWRpb0dyb3VwPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgcC0yIGJvcmRlciByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBOw6NvIGjDoSBob3LDoXJpb3MgZGlzcG9uw612ZWlzIHBhcmEgZXN0YSBkYXRhLiBQb3IgZmF2b3IsIHNlbGVjaW9uZSBvdXRyYSBkYXRhLlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICB7LyogQ2FtcG86IFRpcG8gZGUgQ29uc3VsdGEgKi99XG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgbmFtZT1cInR5cGVcIlxuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlRpcG8gZGUgQ29uc3VsdGE8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRGlnaXRlIG8gdGlwbyBkZSBjb25zdWx0YVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgey4uLmZpZWxkfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFzZWxlY3RlZERvY3Rvcn1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICB7LyogQ2FtcG86IERlc2NyacOnw6NvICovfVxuICAgICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+RGVzY3Jpw6fDo288L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxUZXh0YXJlYSBwbGFjZWhvbGRlcj1cIkRpZ2l0ZSB1bWEgZGVzY3Jpw6fDo28gcGFyYSBhIGNvbnN1bHRhIChvcGNpb25hbClcIiB7Li4uZmllbGR9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIHsvKiBCb3TDo28gZGUgRW52aW8gKi99XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtmb3JtLmZvcm1TdGF0ZS5pc1N1Ym1pdHRpbmcgfHwgIWZvcm0uZm9ybVN0YXRlLmlzVmFsaWQgfHwgIXRlbXBvcmFyeUJsb2NrSWR9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Zm9ybS5mb3JtU3RhdGUuaXNTdWJtaXR0aW5nID8gKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwibXItMiBoLTQgdy00IGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgICAgICAgIEFnZW5kYW5kby4uLlxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIFwiQWdlbmRhclwiXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgICAgey8qIE1lbnNhZ2VtIHNvYnJlIGJsb3F1ZWlvIHRlbXBvcsOhcmlvICovfVxuICAgICAgICAgICAgICB7dGVtcG9yYXJ5QmxvY2tJZCAmJiAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIEhvcsOhcmlvIHJlc2VydmFkbyB0ZW1wb3JhcmlhbWVudGUgcG9yIDUgbWludXRvcy4gQ29tcGxldGUgbyBhZ2VuZGFtZW50byBhbnRlcyBxdWUgZXhwaXJlLlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgIDwvU2Nyb2xsQXJlYT5cbiAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICA8L0RpYWxvZz5cbiAgKVxufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlRm9ybSIsInpvZFJlc29sdmVyIiwieiIsIkNhbGVuZGFySWNvbiIsIkxvYWRlcjIiLCJmb3JtYXQiLCJwdEJSIiwiY24iLCJzdHlsZXMiLCJCdXR0b24iLCJEaWFsb2ciLCJEaWFsb2dDb250ZW50IiwiRGlhbG9nRGVzY3JpcHRpb24iLCJEaWFsb2dIZWFkZXIiLCJEaWFsb2dUaXRsZSIsIkRpYWxvZ1RyaWdnZXIiLCJGb3JtIiwiRm9ybUNvbnRyb2wiLCJGb3JtRmllbGQiLCJGb3JtSXRlbSIsIkZvcm1MYWJlbCIsIkZvcm1NZXNzYWdlIiwiSW5wdXQiLCJQb3BvdmVyIiwiUG9wb3ZlckNvbnRlbnQiLCJQb3BvdmVyVHJpZ2dlciIsIkNhbGVuZGFyIiwiU2VsZWN0IiwiU2VsZWN0Q29udGVudCIsIlNlbGVjdEl0ZW0iLCJTZWxlY3RUcmlnZ2VyIiwiU2VsZWN0VmFsdWUiLCJUZXh0YXJlYSIsImdldENsaW5pY3MiLCJ1c2VUb2FzdCIsInVzZUF1dGgiLCJSYWRpb0dyb3VwIiwiUmFkaW9Hcm91cEl0ZW0iLCJjb2xsZWN0aW9uIiwiZ2V0RG9jcyIsImRiIiwiU2Nyb2xsQXJlYSIsInVzZVBlcm1pc3Npb25zIiwiZmV0Y2hEb2N0b3JXb3JraW5nSG91cnMiLCJzY2hlZHVsZUFwcG9pbnRtZW50IiwidW5ibG9ja1RpbWVTbG90IiwiaXNEYXRlRGlzYWJsZWQiLCJkYXRlIiwiZG9jdG9yV29ya2luZ0RheXMiLCJ0b2RheSIsIkRhdGUiLCJzZXRIb3VycyIsIndlZWtEYXkiLCJsb2NhbGUiLCJ0b0xvd2VyQ2FzZSIsIm5vcm1hbGl6ZSIsInJlcGxhY2UiLCJpbmNsdWRlcyIsImlzV29ya2luZ0RheSIsImNvbnN1bHRhdGlvblNjaGVtYSIsIm9iamVjdCIsInBhdGllbnROYW1lIiwic3RyaW5nIiwibWluIiwiZG9jdG9ySWQiLCJjbGluaWNJZCIsInJlcXVpcmVkX2Vycm9yIiwiaW52YWxpZF90eXBlX2Vycm9yIiwibnVsbGFibGUiLCJ0aW1lIiwidHlwZSIsImRlc2NyaXB0aW9uIiwib3B0aW9uYWwiLCJDb25zdWx0YXRpb25Gb3JtIiwib25TdWNjZXNzIiwib3BlbiIsInNldE9wZW4iLCJkb2N0b3JzIiwic2V0RG9jdG9ycyIsImNsaW5pY3MiLCJzZXRDbGluaWNzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJhdmFpbGFibGVUaW1lU2xvdHMiLCJzZXRBdmFpbGFibGVUaW1lU2xvdHMiLCJsb2FkaW5nVGltZVNsb3RzIiwic2V0TG9hZGluZ1RpbWVTbG90cyIsInRvYXN0IiwidXNlciIsImNhblNjaGVkdWxlQXBwb2ludG1lbnRzIiwic2VsZWN0ZWREb2N0b3JTZXJ2aWNlcyIsInNldFNlbGVjdGVkRG9jdG9yU2VydmljZXMiLCJzZXREb2N0b3JXb3JraW5nRGF5cyIsImRvY3RvcldvcmtpbmdIb3VycyIsInNldERvY3RvcldvcmtpbmdIb3VycyIsInN0YXJ0IiwiZW5kIiwiY2FsZW5kYXJPcGVuIiwic2V0Q2FsZW5kYXJPcGVuIiwidGVtcG9yYXJ5QmxvY2tJZCIsInNldFRlbXBvcmFyeUJsb2NrSWQiLCJmb3JtIiwicmVzb2x2ZXIiLCJkZWZhdWx0VmFsdWVzIiwic2VsZWN0ZWREYXRlIiwid2F0Y2giLCJzZWxlY3RlZENsaW5pYyIsInNlbGVjdGVkRG9jdG9yIiwic2VsZWN0ZWRUaW1lIiwiZmV0Y2hEYXRhIiwiZmV0Y2hlZENsaW5pY3MiLCJBcnJheSIsImlzQXJyYXkiLCJkb2N0b3JzQ29sbGVjdGlvblJlZiIsImRvY3RvcnNTbmFwc2hvdCIsImRvY3RvcnNEYXRhIiwiZG9jcyIsIm1hcCIsImRvYyIsImRhdGEiLCJpZCIsImZ1bGxOYW1lIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJ3b3JraW5nRGF5cyIsInNjaGVkdWxlIiwid29ya2luZ0hvdXJzIiwiZXJyb3IiLCJjb25zb2xlIiwidGl0bGUiLCJ2YXJpYW50IiwiaGFuZGxlRG9jdG9yQ2hhbmdlIiwiZmluZCIsImQiLCJFcnJvciIsInNldFZhbHVlIiwiZG9jdG9yU2NoZWR1bGUiLCJzZXJ2aWNlcyIsImZldGNoQXZhaWxhYmxlVGltZVNsb3RzIiwibG9nIiwidG9JU09TdHJpbmciLCJyZXNwb25zZSIsImZldGNoIiwianNvbiIsIm9rIiwiYXZhaWxhYmxlU2xvdHMiLCJtZXNzYWdlIiwiYmxvY2tTZWxlY3RlZFRpbWVTbG90IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWN0aW9uIiwiYmxvY2tJZCIsInRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJvblN1Ym1pdCIsInJlc3VsdCIsInN0YXR1cyIsInJlc2V0IiwidW5ibG9ja0Vycm9yIiwiY2F0Y2giLCJnZXREYXlOYW1lIiwiZGF5IiwiZGF5cyIsIm9uT3BlbkNoYW5nZSIsIm5ld09wZW4iLCJhc0NoaWxkIiwiY2xhc3NOYW1lIiwiaGFuZGxlU3VibWl0IiwiY29udHJvbCIsIm5hbWUiLCJyZW5kZXIiLCJmaWVsZCIsInBsYWNlaG9sZGVyIiwib25WYWx1ZUNoYW5nZSIsInZhbHVlIiwib25DaGFuZ2UiLCJkaXYiLCJzcGFuIiwibGVuZ3RoIiwiY2xpbmljIiwiaW5wdXQiLCJyZWdpc3RlciIsImRpc2FibGVkIiwiZG9jdG9yIiwiZnVuY3Rpb24iLCJvbkNsaWNrIiwiYWxpZ24iLCJtb2RlIiwicmVxdWlyZWQiLCJzZWxlY3RlZCIsInVuZGVmaW5lZCIsIm9uU2VsZWN0IiwibW9kaWZpZXJzIiwid29ya2luZ0RheSIsIm1vZGlmaWVyc0NsYXNzTmFtZXMiLCJjYWxlbmRhciIsImNsYXNzTmFtZXMiLCJjYWxlbmRhclRpbGUiLCJuYXZfYnV0dG9uX3ByZXZpb3VzIiwibmF2aWdhdGlvbiIsIm5hdl9idXR0b25fbmV4dCIsImNhcHRpb24iLCJtb250aExhYmVsIiwiaGVhZF9jZWxsIiwiaW5pdGlhbEZvY3VzIiwicCIsImRheUluZGV4IiwiaW5kZXhPZiIsImpvaW4iLCJzbG90IiwiaHRtbEZvciIsImZvcm1TdGF0ZSIsImlzU3VibWl0dGluZyIsImlzVmFsaWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/consultation-form.tsx\n"));

/***/ })

});